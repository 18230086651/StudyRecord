<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>焦点轮播图</title>
    <style type="text/css">
        *{ margin: 0; padding: 0; text-decoration: none;}
        body { padding: 20px;}
        #container { width: 600px; height: 400px; border: 3px solid #333; overflow: hidden; position: relative;}
        #list { width: 4200px; height: 400px; position: absolute; z-index: 1;}
        #list img { float: left;}
        #buttons { position: absolute; height: 10px; width: 100px; z-index: 2; bottom: 20px; left: 250px;}
        #buttons span { cursor: pointer; float: left; border: 1px solid #fff; width: 10px; height: 10px; border-radius: 50%; background: #333; margin-right: 5px;}
        #buttons .on {  background: orangered;}
        .arrow { cursor: pointer; display: none; line-height: 39px; text-align: center; font-size: 36px; font-weight: bold; width: 40px; height: 40px;  position: absolute; z-index: 2; top: 180px; background-color: RGBA(0,0,0,.3); color: #fff;}
        .arrow:hover { background-color: RGBA(0,0,0,.7);}
        #container:hover .arrow { display: block;}
        #prev { left: 20px;}
        #next { right: 20px;}
    </style>
    <script type="text/javascript">
        window.onload=function(){
            var next=document.getElementById('next');
            var list=document.getElementById('list');
            var prev=document.getElementById('prev');
            var contains=document.getElementById('container');
            var buttons=document.getElementById('buttons').getElementsByTagName('span');
            var index=1;
            var animated=false;
            // 按钮动画函数
            function showbutton(){
                for(var i = 0;i < buttons.length;i++){
                    if(buttons[i].className == 'on'){
                        buttons[i].className = '';
                        break;
                    }
                }
                buttons[index-1].className='on';
            }
            // 动画执行函数
            function animate(offset){
                animated=true;
                var newleft=parseInt(list.style.left)+offset;
                var time=300;  //图片切换一张所用的时间
                var interval=10;//时间切换间隔
                var speed=offset/(time/interval);  //图片切换速度

                function go(){
                    if((speed<0&&parseInt(list.style.left)>newleft)||(speed>0&&parseInt(list.style.left)<newleft)){
                        list.style.left=parseInt(list.style.left)+speed+'px';
                        setTimeout(go,interval);
                    }else{
                        animated=false;
                        list.style.left=newleft+'px';
                        if(newleft > -600){
                            list.style.left =- 3000 +'px';
                        }
                        if(newleft < -3000){
                            list.style.left =- 600 +'px';
                        }
                    }
                }
                go();
            }
            function play(){
               var times=setInterval(function(){
                    next.onclick();
                },2500)
            }
            function stop(){
                clearInterval(times);
            }
            // 鼠标点击下一张图片时所执行的函数
            next.onclick=function(){
                if(index == 5){
                    index = 1;
                }else{
                 index += 1;
             }
             showbutton();
             if(animated==false)
                animate(-600);
        }
        // 鼠标点上一张图片时所执行的函数
        prev.onclick = function(){
            if(index == 1){
                index = 5;
            }else{
             index -= 1;
         }
         showbutton();
         if(animated==false)
            animate(600);
    }
    for(var i=0;i<buttons.length;i++){
        buttons[i].onclick=function(){
            if(this.className=='on'){
                return;
            }
            var myIndex=parseInt(this.getAttribute('index'));
            var offset=-600*(myIndex-index);
            index=myIndex;
            showbutton();
            if(animated==false)
                animate(offset);
        }
    }
    contains.onmouseover=stop;
    contains.onmouseout=play;
    play();
}
</script>
</head>
<body>

    <div id="container">
        <div id="list" style="left: -600px;">
            <img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/05.jpg" alt="1"/>
            <img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/01.jpg" alt="1"/>
	    <img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/02.jpg" alt="2"/>
	    <img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/03.jpg" alt="3"/>
	    <img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/04.jpg" alt="4"/>
	    <img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/05.jpg" alt="5"/>
            <img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/01.jpg" alt="5"/>
        </div>
        <div id="buttons">
            <span index="1" class="on"></span>
            <span index="2"></span>
            <span index="3"></span>
            <span index="4"></span>
            <span index="5"></span>
        </div>
        <a href="javascript:;" id="prev" class="arrow">&lt;</a>
        <a href="javascript:;" id="next" class="arrow">&gt;</a>
    </div>

</body>
</html>

//第二种---滑动焦点
/*
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        .box {
            width: 490px;
            height: 170px;
            padding: 5px;
            border: 1px solid #ccc;
            margin: 100px auto;
        }
        .inner {
            width: 490px;
            height: 170px;
            position: relative;
            overflow: hidden;
        }
        ul {
            width: 500%;
            list-style: none;
            position: absolute;
            left: 0;
        }
        li {
            float: left;
        }
        .square {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
        span {
            display: inline-block;
            width: 16px;
            height: 16px;
            background-color: #fff;
            text-align: center;
            margin: 3px;
            border: 1px solid #ccc;
            line-height: 16px;
            cursor: pointer;
        }
        .current {
            background-color: darkorange;
            color: #fff;
        }
    </style>

    <script>
        window.onload = function () {
            //需求：鼠标放到小方块上面，上面的图片(ul向左移动指定的个数个图片的宽)
            //思路：绑定事件，点亮指定的盒子，移动ul。
            //步骤：
            //1.获取事件源和相关元素
            //2.绑定事件和书写事件驱动程序(for循环绑定)
            //3.点亮盒子
            //4.移动ul(向左移动，给定目标为-值，放到第n个小方块上向左移动n-1个图片的宽)

            //1.获取事件源和相关元素
            var inner = document.getElementById("inner");
            var imgWidth = inner.offsetWidth;
            var ul =  inner.children[0];
            var spanArr =  inner.children[1].children;
            //2.绑定事件和书写事件驱动程序(for循环绑定)
            for(var i=0;i<spanArr.length;i++){
                //属性绑定（自定义属性参数盒子的索引值）
                //用span的innerHTML属性也可以，但是为了代码的健壮性，我们选择使用自己的属性
                spanArr[i].index = i; //绑定的是索引值，所以移动盒子的时候不用-1
                spanArr[i].onmouseover = function () {
                    //3.点亮盒子
                    //排他思想
                    for(var j=0;j<spanArr.length;j++){
                        spanArr[j].className = "";
                    }
                    this.className = "current";
                    //4.移动ul(向左移动，给定目标为-值，放到第n个小方块上向左移动n-1个图片的宽)
                    //利用框架移动盒子。（两个参数：1.元素。  2.目标位置）
                    animate(ul,-this.index*imgWidth);
                }
            }

            function animate(ele,target){
                clearInterval(ele.timer);
                var speed = target>ele.offsetLeft?10:-10;
                ele.timer = setInterval(function () {
                    var val = target - ele.offsetLeft;
                    ele.style.left = ele.offsetLeft + speed + "px";
                    if(Math.abs(val)<Math.abs(speed)){
                        ele.style.left = target + "px";
                        clearInterval(ele.timer);
                    }
                },10)
            }
        }

    </script>
</head>
<body>
    <div class="box">
        <div class="inner" id="inner">
            <ul>
                <li><img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/02.jpg" /></li>
		<li><img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/03.jpg" /></li>
		<li><img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/04.jpg" /></li>
		<li><img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/05.jpg" /></li>
		<li><img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/01.jpg" /></li>
            </ul>
            <div class="square">
                <span class="current">1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
            </div>
        </div>
    </div>
</body>
</html>
*/

//左右焦点图
/*
<!doctype html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>无标题文档</title>
	<style type="text/css">
		body,ul,ol,li,img{margin:0;padding:0;list-style:none;}
		#box{width:490px;height:170px;padding:5px;
			position: relative;border:1px solid #ccc;margin:100px auto 0;overflow:hidden;}
		.ad{width:490px;height:170px;overflow:hidden;position:relative;}
		#box img{width:490px;}
		.ad ol{position:absolute;right:10px;bottom:10px;}
		.ad ol li{width:20px;height:20px;line-height:20px;border:1px solid #ccc;text-align:center;background:#fff;float:left;margin-right:10px;cursor:pointer;_display:inline;}
		.ad ol li.current{background:yellow;}
		.ad ul li{float:left;}
		.ad ul{ position:absolute; top:0; width:2940px;}
		.ad ul li.current{display:block;}
		#arr {display: none;}
		#arr span{ width:40px; height:40px; position:absolute; left:5px; top:50%; margin-top:-20px; background:#000; cursor:pointer; line-height:40px; text-align:center; font-weight:bold; font-family:'黑体'; font-size:30px; color:#fff; opacity:0.3; border:1px solid #fff;}
		#arr #right{right:5px; left:auto;}
	</style>
</head>
<body>
<div id="box" class="all">
	<div class="ad">
		<ul id="imgs">
			<li><img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/02.jpg" /></li>
			<li><img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/03.jpg" /></li>
			<li><img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/04.jpg" /></li>
			<li><img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/05.jpg" /></li>
			<li><img src="http://www.zhenglinglu.cn/uploads/allimg/shuipai/xy/01.jpg" /></li>
		</ul>
	</div>
	<div id="arr">
		<span id="left"><</span>
		<span id="right">></span>
	</div>
</div>


<script>
	//需求：鼠标放到盒子上，显示左右切换的图片。点击左则按钮图片(ul)向右移动，相反的按钮向左移动。
	//思路：获取两个按钮，点击左侧按钮移动ul向右走(每次只走一张)(计数器从0开始)。
	//如何移动盒子。利用计数器模拟index值，点右侧自增，点左侧自减。
	//步骤：
	//1.鼠标放上去显示移开以藏
	//2.点击右侧盒子图片向做移动并用计数器模拟index值。
	//3，点击左侧盒子，同理。

	//1.鼠标放上去显示移开以藏
	var box = document.getElementById("box");
	var imgWidth = box.children[0].offsetWidth;
	var ul = box.children[0].children[0];
	var boxLeftRight = box.children[1];
	var btnArr = boxLeftRight.children;

	//鼠标放上去显示，移开隐藏
	box.onmouseover = function () {
		boxLeftRight.style.display = "block";
	}
	box.onmouseout = function () {
		boxLeftRight.style.display = "none";
	}

	//2.点击右侧盒子图片向做移动并用计数器模拟index值。
	//定义计数器
	var index = 0;

	btnArr[1].onclick = function () {
		index++;
		//我们要对index的值进行约束。index的值必须在[0,4]
		if(index>ul.children.length-1){
			index = ul.children.length-1;
			alert("到头了！");
		}
		//点击盒子以后移动图片（ul，和目标位置）
		animate(ul,-index*imgWidth);
	}

	//3，点击左侧盒子，同理。
	btnArr[0].onclick = function () {
		index--;
		if(index<0){
			index = 0;
			alert("第一张！");
		}
		//点击盒子以后移动图片（ul，和目标位置）
		animate(ul,-index*imgWidth);
	}


	function animate(ele,target){
		clearInterval(ele.timer);
		var speed = target>ele.offsetLeft?10:-10;
		ele.timer = setInterval(function () {
			var val = target - ele.offsetLeft;
			ele.style.left = ele.offsetLeft + speed + "px";
			if(Math.abs(val)<Math.abs(speed)){
				ele.style.left = target + "px";
				clearInterval(ele.timer);
			}
		},10)
	}
</script>

</body>
</html>
*/




